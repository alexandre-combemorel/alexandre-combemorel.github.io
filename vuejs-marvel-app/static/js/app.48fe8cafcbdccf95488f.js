webpackJsonp([1],{"/yVl":function(t,e){},"5GCs":function(t,e){},DZAF:function(t,e){},Kk2W:function(t,e){},Ldz6:function(t,e){},NGTH:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},i,!1,function(t){a("Kk2W")},null,null).exports,c=a("/ocq"),n={TYPE_COMIC:"comic",TYPE_CHARACTER:"character",SEARCH_LISTING:"searchListing",SEARCH_SINGLE:"searchId",ERROR_NETWORK:"Server not responding",ERROR_NORESULTS_COMICS:"No marvel comics found",ERROR_NORESULTS_COMIC:"No marvel comic found",ERROR_NORESULTS_CHARACTERS:"No marvel characters found",ERROR_NORESULTS_CHARACTER:"No marvel character found"},o={name:"Search",data:function(){return{CONST:n,query:this.$route.params.key||"",type:this.$route.params.type||n.TYPE_COMIC}},methods:{search:function(){this.$router.push("/"+n.SEARCH_LISTING+"/"+this.type+"/"+this.query)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"search__wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search__wrapper__field",attrs:{type:"text",placeholder:"Enter key words"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),a("div",{staticClass:"search__wrapper__radio__wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"search__wrapper__radio",attrs:{type:"radio",id:"comic"},domProps:{value:t.CONST.TYPE_COMIC,checked:t._q(t.type,t.CONST.TYPE_COMIC)},on:{change:function(e){t.type=t.CONST.TYPE_COMIC}}}),a("label",{staticClass:"search__wrapper__radio__label",attrs:{for:"comic"}},[t._v("Comic")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"search__wrapper__radio",attrs:{type:"radio",id:"character"},domProps:{value:t.CONST.TYPE_CHARACTER,checked:t._q(t.type,t.CONST.TYPE_CHARACTER)},on:{change:function(e){t.type=t.CONST.TYPE_CHARACTER}}}),a("label",{staticClass:"search__wrapper__radio__label",attrs:{for:"character"}},[t._v("Character")]),t._v(" "),a("button",{staticClass:"search__wrapper__button",on:{click:t.search}},[t._v("Search")])])])])},staticRenderFns:[]};var _=a("VU/8")(o,l,!1,function(t){a("lWgV")},"data-v-e87fc6ba",null).exports,m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"loader"},[this._v("\n  Loading...\n")])},staticRenderFns:[]};var h=a("VU/8")({name:"Loader"},m,!1,function(t){a("NGTH")},"data-v-c1813412",null).exports,d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error"},[e("div",{staticClass:"error__message"},[this._v(this._s(this.$store.state.errorHandling.errorMessage))])])},staticRenderFns:[]};var u=a("VU/8")({name:"Error"},d,!1,function(t){a("5GCs")},"data-v-0acd5fca",null).exports,p={name:"Tile",props:["tile"],computed:{image:function(){return this.tile.thumbnail.path+"/portrait_small."+this.tile.thumbnail.extension},title:function(){return void 0!==this.tile.title?this.tile.title:this.tile.name},description:function(){return null!==this.tile.description&&this.tile.description.length>300?this.tile.description.substr(0,200)+"...":""}},methods:{displayTile:function(t){var e=this.$store.state.search.lastSearchType;this.$router.push("/"+n.SEARCH_SINGLE+"/"+e+"/"+t)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tile",on:{click:function(e){t.displayTile(t.tile.id)}}},[a("div",{staticClass:"tile__img"},[a("img",{attrs:{src:t.image}})]),t._v(" "),a("div",{staticClass:"tile__text"},[a("div",{staticClass:"tile__text__title"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"tile__text__description"},[t._v(t._s(t.description))])])])},staticRenderFns:[]};var f=a("VU/8")(p,v,!1,function(t){a("dccn")},"data-v-471c1273",null).exports,C=a("//Fk"),g=a.n(C),E=a("mtWM"),R=a.n(E),T="aaa33bbe5bd2a9a38e7f94d77174e2e0",y={api:{marvel_comics_listing:"https://gateway.marvel.com:443/v1/public/comics?titleStartsWith=:keywords&apikey="+T,marvel_characters_listing:"https://gateway.marvel.com:443/v1/public/characters?nameStartsWith=:keywords&apikey="+T,marvel_character_single:"https://gateway.marvel.com:443/v1/public/characters/:idCharacter?apikey="+T,marvel_comic_single:"https://gateway.marvel.com:443/v1/public/comics/:idComic?apikey="+T}},O={getMarvelComics:function(t){return new g.a(function(e,a){R.a.get(y.api.marvel_comics_listing.replace(":keywords",t)).then(function(t){e(t.data.data)}).catch(function(t){a(t)})})},getMarvelComicId:function(t){return new g.a(function(e,a){R.a.get(y.api.marvel_comic_single.replace(":idComic",t)).then(function(t){e(t.data.data)}).catch(function(t){a(t)})})},getMarvelCharacters:function(t){return new g.a(function(e,a){R.a.get(y.api.marvel_characters_listing.replace(":keywords",t)).then(function(t){e(t.data.data)}).catch(function(t){a(t)})})},getMarvelCharacterId:function(t){return new g.a(function(e,a){R.a.get(y.api.marvel_character_single.replace(":idCharacter",t)).then(function(t){e(t.data.data)}).catch(function(t){a(t)})})}};var S={name:"Listing",components:{Tile:f},watch:{$route:function(){this.search()}},mounted:function(){this.search()},computed:{listingToDisplay:function(){return-1!==this.$route.path.indexOf("/"+n.SEARCH_LISTING+"/"+n.TYPE_COMIC)?this.$store.state.search.collectionMarvelComics:this.$store.state.search.collectionMarvelCharacters}},methods:{search:function(){if(this.$route.path.includes("/"+n.SEARCH_LISTING+"/")){var t=this.$route.params.type,e=this.$route.params.key;this.$store.commit("loadingOn"),this.$store.commit("clearErrorMessage"),t===n.TYPE_COMIC?this.getComics(e):this.getCharacters(e)}else this.$store.commit("saveLastSearch",{type:n.TYPE_COMIC,data:[]}),this.$store.commit("saveLastSearch",{type:n.TYPE_CHARACTER,data:[]})},getComics:function(t){var e=this;O.getMarvelComics(t).then(function(t){e.$store.commit("loadingOff"),t.count>0?e.$store.commit("saveLastSearch",{type:n.TYPE_COMIC,data:t.results}):(e.$store.commit("saveLastSearch",{type:n.TYPE_COMIC,data:[]}),e.$store.commit("setErrorMessage",n.ERROR_NORESULTS_COMICS))}).catch(function(){e.$store.commit("loadingOff"),e.$store.commit("setErrorMessage",n.ERROR_NETWORK)})},getCharacters:function(t){var e=this;O.getMarvelCharacters(t).then(function(t){e.$store.commit("loadingOff"),t.count>0?e.$store.commit("saveLastSearch",{type:n.TYPE_CHARACTER,data:t.results}):(e.$store.commit("saveLastSearch",{type:n.TYPE_CHARACTER,data:[]}),e.$store.commit("setErrorMessage",n.ERROR_NORESULTS_CHARACTERS))}).catch(function(){e.$store.commit("loadingOff"),e.$store.commit("setErrorMessage",n.ERROR_NETWORK)})}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"listing"},this._l(this.listingToDisplay,function(t){return e("tile",{key:t.id,attrs:{tile:t}})}))},staticRenderFns:[]};var M=a("VU/8")(S,$,!1,function(t){a("/yVl")},"data-v-e6cdbf64",null).exports,w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comic"},[a("div",{staticClass:"comic__picture"},[a("img",{attrs:{src:t.image,alt:"Comic picture"}})]),t._v(" "),a("div",{staticClass:"comic__information"},[a("div",{staticClass:"comic__information__title"},[t._v(t._s(t.comic.title))]),t._v(" "),a("div",{staticClass:"comic__information__price"},[t._v(t._s(t.comic.prices[0].price)+"$")]),t._v(" "),a("div",{staticClass:"comic__information__characters"},[a("b",[t._v("List of Characters:")]),t._v(" "),t._l(t.comic.characters.items,function(e){return a("span",{key:e.name,staticClass:"comic__information__characters__list"},[t._v(t._s(e.name)+", ")])})],2),t._v(" "),a("div",{staticClass:"comic__information__description"},[a("b",[t._v("Description:")]),t._v(" "+t._s(t.comic.description)+"\n    ")]),t._v(" "),a("div",{staticClass:"comic__information__serie"})])])},staticRenderFns:[]};var A=a("VU/8")({name:"Comic",props:["comic"],computed:{image:function(){return this.comic.thumbnail.path+"/portrait_uncanny."+this.comic.thumbnail.extension}}},w,!1,function(t){a("DZAF")},"data-v-3003a8c0",null).exports,L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"character"},[a("div",{staticClass:"character__picture"},[a("img",{attrs:{src:t.image,alt:"Comic picture"}})]),t._v(" "),a("div",{staticClass:"character__information"},[a("div",{staticClass:"character__information__name"},[t._v(t._s(t.character.name))]),t._v(" "),a("div",{staticClass:"character__information__series"},[a("b",[t._v("Series:")]),t._v(" "),t._l(t.character.series.items,function(e){return a("span",{key:e.name,staticClass:"character__information__characters__list"},[t._v(t._s(e.name)+", ")])})],2),t._v(" "),a("div",{staticClass:"character__information__description"},[a("b",[t._v("Description:")]),t._v(" "+t._s(t.character.description)+"\n    ")])])])},staticRenderFns:[]};var N=a("VU/8")({name:"Character",props:["character"],computed:{image:function(){return this.character.thumbnail.path+"/portrait_uncanny."+this.character.thumbnail.extension}}},L,!1,function(t){a("Ldz6")},"data-v-18df6b0d",null).exports,b=a("M4fF"),H=a.n(b),I={name:"SingleView",components:{Comic:A,Character:N},data:function(){return{comic:{},character:{}}},computed:{comicLoaded:function(){return!H.a.isEmpty(this.comic)},characterLoaded:function(){return!H.a.isEmpty(this.character)}},mounted:function(){-1!==this.$route.path.indexOf(n.SEARCH_SINGLE+"/"+n.TYPE_COMIC)?this.loadComic():this.loadCharacter()},methods:{loadComic:function(){var t=this.$route.params.key;this.comic=H.a.find(this.$store.state.search.collectionMarvelComics,{id:t}),void 0===this.comic&&this.fetchComic(t)},loadCharacter:function(){var t=this.$route.params.key;this.character=H.a.find(this.$store.state.search.collectionMarvelCharacters,{id:t}),void 0===this.character&&this.fetchCharacter(t)},fetchComic:function(t){var e=this;this.$store.commit("loadingOn"),this.$store.commit("clearErrorMessage"),O.getMarvelComicId(t).then(function(t){e.$store.commit("loadingOff"),t.count>0?e.comic=t.results[0]:e.$store.commit("setErrorMessage",n.ERROR_NORESULTS_COMIC)}).catch(function(){e.$store.commit("setErrorMessage",n.ERROR_NETWORK),e.$store.commit("loadingOff")})},fetchCharacter:function(t){var e=this;this.$store.commit("loadingOn"),this.$store.commit("clearErrorMessage"),O.getMarvelCharacterId(t).then(function(t){e.$store.commit("loadingOff"),t.count>0?e.character=t.results[0]:e.$store.commit("setErrorMessage",n.ERROR_NORESULTS_CHARACTER)}).catch(function(){e.$store.commit("setErrorMessage",n.ERROR_NETWORK),e.$store.commit("loadingOff")})}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"single-view"},[this.comicLoaded?e("comic",{attrs:{comic:this.comic}}):this._e(),this._v(" "),this.characterLoaded?e("character",{attrs:{character:this.character}}):this._e()],1)},staticRenderFns:[]};var x={name:"Marvel",components:{Search:_,Error:u,Loader:h,Listing:M,SingleView:a("VU/8")(I,k,!1,function(t){a("RsUJ")},"data-v-4af774bd",null).exports},computed:{displayListing:function(){return-1!==this.$route.path.indexOf(n.SEARCH_LISTING)||"/"===this.$route.path},displaySingleView:function(){return-1!==this.$route.path.indexOf(n.SEARCH_SINGLE)}},methods:{backHome:function(){this.$router.push("/")},backHistory:function(){window.history.back()}}},P={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"marvel-app"},[r("div",{staticClass:"marvel-app__content__wrapper"},[r("div",{staticClass:"marvel-app__logo__wrapper",on:{click:t.backHome}},[r("img",{attrs:{src:a("kZui"),alt:"Marvel logo"}})]),t._v(" "),r("div",{staticClass:"marvel-app__content__wrapper"},[t.$store.state.errorHandling.errorActive?r("div",{staticClass:"marvel-app__error"},[r("error")],1):t._e(),t._v(" "),t.$store.state.isLoading?r("div",{staticClass:"marvel-app__loader"},[r("loader")],1):t._e(),t._v(" "),t.displayListing?r("div",{staticClass:"marvel-app__content__wrapper__listing"},[r("search"),t._v(" "),r("listing")],1):t._e(),t._v(" "),t.displaySingleView?r("div",{staticClass:"marvel-app__content__wrapper__single"},[r("div",{staticClass:"marvel-app__content__wrapper__single__back",on:{click:t.backHistory}},[t._v("BACK")]),t._v(" "),r("single-view")],1):t._e()])])])},staticRenderFns:[]};var Y=a("VU/8")(x,P,!1,function(t){a("p3TG")},null,null).exports;r.a.use(c.a);var U=new c.a({routes:[{path:"/:search?/:type?/:key?",name:"Marvel",component:Y}]}),V=a("NYxO");r.a.use(V.a);var G=new V.a.Store({state:{isLoading:!1,errorHandling:{errorMessage:null,errorActive:!1},search:{lastSearchType:null,collectionMarvelComics:[],collectionMarvelCharacters:[]}},mutations:{loadingOn:function(t){t.isLoading=!0},loadingOff:function(t){t.isLoading=!1},saveLastSearch:function(t,e){e.type===n.TYPE_COMIC?(t.search.lastSearchType=n.TYPE_COMIC,t.search.collectionMarvelComics=e.data):(t.search.lastSearchType=n.TYPE_CHARACTER,t.search.collectionMarvelCharacters=e.data)},setErrorMessage:function(t,e){t.errorHandling.errorMessage=e,t.errorHandling.errorActive=!0},clearErrorMessage:function(t){t.errorHandling.errorMessage=null,t.errorHandling.errorActive=!1}}});r.a.config.productionTip=!1,new r.a({el:"#app",store:G,router:U,components:{App:s},template:"<App/>"})},RsUJ:function(t,e){},dccn:function(t,e){},kZui:function(t,e,a){t.exports=a.p+"static/img/marvel-logo.10488b8.png"},lWgV:function(t,e){},p3TG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.48fe8cafcbdccf95488f.js.map